{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/CapitalMantra/cpfrotend/src/UI/Utility.js"],"sourcesContent":["// components/UI/Utility.js\n\nexport const formatRupee = (value) => {\n    // Ensure value is a safe number (NaN, null, undefined check)\n    if (typeof value !== 'number' || isNaN(value)) {\n        value = 0;\n    }\n    // Only return currency for non-negative or very large numbers that are clearly numeric output\n    if (value < 0 && value > -9000000) { \n         // Handles negative output safely\n        return `−₹ ${Math.abs(value).toLocaleString('en-IN', { maximumFractionDigits: 0 })}`;\n    }\n    \n    return `₹ ${value.toLocaleString('en-IN', { maximumFractionDigits: 0 })}`;\n};"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAEpB,MAAM,cAAc,CAAC;IACxB,6DAA6D;IAC7D,IAAI,OAAO,UAAU,YAAY,MAAM,QAAQ;QAC3C,QAAQ;IACZ;IACA,8FAA8F;IAC9F,IAAI,QAAQ,KAAK,QAAQ,CAAC,SAAS;QAC9B,iCAAiC;QAClC,OAAO,CAAC,GAAG,EAAE,KAAK,GAAG,CAAC,OAAO,cAAc,CAAC,SAAS;YAAE,uBAAuB;QAAE,IAAI;IACxF;IAEA,OAAO,CAAC,EAAE,EAAE,MAAM,cAAc,CAAC,SAAS;QAAE,uBAAuB;IAAE,IAAI;AAC7E"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///F:/CapitalMantra/cpfrotend/src/app/calculators/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useMemo } from \"react\";\r\nimport { InputGroup } from \"../CalculatorUtils\";\r\nimport { formatRupee } from \"../../UI/Utility\";\r\n\r\nconst RetirementCalculator = () => {\r\n  // ---------------- MODE ----------------\r\n  const [mode, setMode] = useState(\"sip\"); // sip | lumpsum\r\n\r\n  // ---------------- INPUT STATES ----------------\r\n  const [currentAge, setCurrentAge] = useState(27);\r\n  const [retirementAge, setRetirementAge] = useState(60);\r\n  const [lifeExpectancy, setLifeExpectancy] = useState(80);\r\n\r\n  const [monthlyExpense, setMonthlyExpense] = useState(15000);\r\n  const [existingSavings, setExistingSavings] = useState(0);\r\n\r\n  const [inflationRate, setInflationRate] = useState(6);\r\n  const [preRetReturn, setPreRetReturn] = useState(15);\r\n  const [postRetReturn, setPostRetReturn] = useState(8);\r\n\r\n  // ---------------- CALCULATION ----------------\r\n  const {\r\n    yearsToRetire,\r\n    yearsInRetirement,\r\n    annualExpenseAtRetirement,\r\n    requiredCorpus,\r\n    monthlySavingRequired,\r\n    lumpsumRequiredToday,\r\n  } = useMemo(() => {\r\n    const CA = Number(currentAge);\r\n    const RA = Number(retirementAge);\r\n    const LE = Number(lifeExpectancy);\r\n    const ME = Number(monthlyExpense);\r\n    const ES = Number(existingSavings);\r\n\r\n    const i = inflationRate / 100;\r\n    const rPre = preRetReturn / 100;\r\n    const rPost = postRetReturn / 100;\r\n\r\n    const yrsToRetire = RA - CA;\r\n    const yrsInRetirement = LE - RA;\r\n\r\n    if (\r\n      yrsToRetire <= 0 ||\r\n      yrsInRetirement <= 0 ||\r\n      ME <= 0 ||\r\n      rPost <= i ||\r\n      rPre <= 0\r\n    ) {\r\n      return {\r\n        yearsToRetire: 0,\r\n        yearsInRetirement: 0,\r\n        annualExpenseAtRetirement: 0,\r\n        requiredCorpus: 0,\r\n        monthlySavingRequired: 0,\r\n        lumpsumRequiredToday: 0,\r\n      };\r\n    }\r\n\r\n    // 1️⃣ Expense at retirement (inflation adjusted)\r\n    const futureMonthlyExpense =\r\n      ME * Math.pow(1 + i, yrsToRetire);\r\n\r\n    const annualExpense = futureMonthlyExpense * 12;\r\n\r\n    // 2️⃣ Retirement corpus (Angel One model)\r\n    const corpus =\r\n      annualExpense *\r\n      (1 -\r\n        Math.pow(\r\n          (1 + i) / (1 + rPost),\r\n          yrsInRetirement\r\n        )) /\r\n      (rPost - i);\r\n\r\n    // 3️⃣ Existing savings growth\r\n    const existingAtRetirement =\r\n      ES * Math.pow(1 + rPre, yrsToRetire);\r\n\r\n    const netCorpusNeeded = Math.max(\r\n      0,\r\n      corpus - existingAtRetirement\r\n    );\r\n\r\n    // 4️⃣ SIP calculation\r\n    const monthlyRate = rPre / 12;\r\n    const months = yrsToRetire * 12;\r\n\r\n    const sip =\r\n      netCorpusNeeded *\r\n      (monthlyRate /\r\n        (Math.pow(1 + monthlyRate, months) - 1));\r\n\r\n    // 5️⃣ Lumpsum required today\r\n    const lumpsumToday =\r\n      netCorpusNeeded /\r\n      Math.pow(1 + rPre, yrsToRetire);\r\n\r\n    return {\r\n      yearsToRetire: yrsToRetire,\r\n      yearsInRetirement: yrsInRetirement,\r\n      annualExpenseAtRetirement: Math.round(annualExpense),\r\n      requiredCorpus: Math.round(corpus),\r\n      monthlySavingRequired: Math.round(sip),\r\n      lumpsumRequiredToday: Math.round(lumpsumToday),\r\n    };\r\n  }, [\r\n    mode,\r\n    currentAge,\r\n    retirementAge,\r\n    lifeExpectancy,\r\n    monthlyExpense,\r\n    existingSavings,\r\n    inflationRate,\r\n    preRetReturn,\r\n    postRetReturn,\r\n  ]);\r\n\r\n  // ---------------- UI ----------------\r\n  return (\r\n    <div className=\"bg-white dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-800 shadow-xl space-y-10\">\r\n      \r\n      {/* HEADER + MODE */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <h3 className=\"text-2xl font-bold text-slate-900 dark:text-white\">\r\n          Retirement Planning Calculator\r\n        </h3>\r\n\r\n        <div className=\"flex border rounded-lg overflow-hidden\">\r\n          <button\r\n            onClick={() => setMode(\"sip\")}\r\n            className={`px-4 py-2 text-sm font-semibold ${\r\n              mode === \"sip\"\r\n                ? \"bg-indigo-600 text-white\"\r\n                : \"bg-transparent text-slate-600 dark:text-slate-300\"\r\n            }`}\r\n          >\r\n            SIP\r\n          </button>\r\n          <button\r\n            onClick={() => setMode(\"lumpsum\")}\r\n            className={`px-4 py-2 text-sm font-semibold ${\r\n              mode === \"lumpsum\"\r\n                ? \"bg-indigo-600 text-white\"\r\n                : \"bg-transparent text-slate-600 dark:text-slate-300\"\r\n            }`}\r\n          >\r\n            Lumpsum\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid lg:grid-cols-2 gap-10\">\r\n        {/* INPUTS */}\r\n        <div className=\"space-y-6\">\r\n          <InputGroup label=\"Current Age\" value={currentAge} setter={setCurrentAge} min={18} max={70} unit=\"Yrs\" />\r\n          <InputGroup label=\"Retirement Age\" value={retirementAge} setter={setRetirementAge} min={40} max={80} unit=\"Yrs\" />\r\n          <InputGroup label=\"Life Expectancy\" value={lifeExpectancy} setter={setLifeExpectancy} min={60} max={100} unit=\"Yrs\" />\r\n          <InputGroup label=\"Current Monthly Expense\" value={monthlyExpense} setter={setMonthlyExpense} min={5000} max={300000} step={1000} unit=\"₹\" />\r\n          <InputGroup label=\"Existing Retirement Savings\" value={existingSavings} setter={setExistingSavings} min={0} max={50000000} step={50000} unit=\"₹\" />\r\n          <InputGroup label=\"Expected Inflation Rate\" value={inflationRate} setter={setInflationRate} min={3} max={15} step={0.5} unit=\"%\" />\r\n          <InputGroup label=\"Return (Before Retirement)\" value={preRetReturn} setter={setPreRetReturn} min={5} max={20} step={0.5} unit=\"%\" />\r\n          <InputGroup label=\"Return (After Retirement)\" value={postRetReturn} setter={setPostRetReturn} min={3} max={12} step={0.5} unit=\"%\" />\r\n        </div>\r\n\r\n        {/* RESULTS */}\r\n        <div className=\"p-6 rounded-xl border border-slate-200 dark:border-slate-800 space-y-6\">\r\n          <p>Years until Retirement: <b>{yearsToRetire}</b></p>\r\n          <p>Years in Retirement: <b>{yearsInRetirement}</b></p>\r\n\r\n          <p className=\"text-indigo-600 dark:text-indigo-400 font-semibold\">\r\n            Annual Income Required After Retirement:\r\n            <br />\r\n            {formatRupee(annualExpenseAtRetirement)}\r\n          </p>\r\n\r\n          <div className=\"pt-4 border-t\">\r\n            <p className=\"text-sm\">Required Retirement Corpus</p>\r\n            <p className=\"text-3xl font-bold text-indigo-700 dark:text-indigo-300\">\r\n              {formatRupee(requiredCorpus)}\r\n            </p>\r\n          </div>\r\n\r\n          {mode === \"sip\" ? (\r\n            <div className=\"pt-4 border-t\">\r\n              <p className=\"text-sm\">Monthly SIP Required</p>\r\n              <p className=\"text-3xl font-bold text-indigo-700 dark:text-indigo-300\">\r\n                {formatRupee(monthlySavingRequired)}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"pt-4 border-t\">\r\n              <p className=\"text-sm\">One-time Lumpsum Required Today</p>\r\n              <p className=\"text-3xl font-bold text-indigo-700 dark:text-indigo-300\">\r\n                {formatRupee(lumpsumRequiredToday)}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RetirementCalculator;\r\n"],"names":[],"mappings":"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"}}]
}